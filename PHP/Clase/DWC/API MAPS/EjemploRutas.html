<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css">
        /* TENEMOS QUE DARLE UN TAMAÑO AL DIV QUE CONTIENE EL MAPA. SI NO, NO SE VERÁ */
        #mapa {
            width: auto;
            height: 700px;
            border: 1px solid blue;
        }
    </style>
    <title>Ejemplo Rutas</title>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyA6rLid89W1HGF2lCnQbfx62tr-57ugzdU">
    </script>
    <script type="text/javascript">
        var directionsDisplay = new google.maps.DirectionsRenderer();
        var directionsService = new google.maps.DirectionsService();
        var mapa;
        window.onload = function () {
            document.getElementById("btCalcular").addEventListener('click', calcularRuta);
            cargarMapa();
        }
        function cargarMapa() {
            var micasa = new google.maps.LatLng(37.407639, -5.927344);
            var opcionesmapa = {
                zoom: 9,
                center: micasa
            }
            mapa = new google.maps.Map(document.getElementById("mapa"), opcionesmapa);
            directionsDisplay.setMap(mapa);
        }

        function calcularRuta() {
            var origen = document.getElementById("origen").value;
            var destino = document.getElementById("destino").value;
            var request = {
                origin: origen,
                destination: destino,
                travelMode: google.maps.TravelMode.DRIVING
            };

            directionsService.route(request, function (result, status) {
                if (status == google.maps.DirectionsStatus.OK) {
                    directionsDisplay.setDirections(result);
                }
            });
        } // calcularRuta()

    </script>
</head>

<body>
    <h3>Ejemplo para crear una ruta con google maps. Pasos previos</h3>
    <p>
        <label>Origen: </label>
        <input type="text" id="origen" value="Sevilla" /> <br>
        <label>Destino: </label>
        <input type="text" id="destino" value="Murcia" /> <br>
        <button id="btCalcular">Calcular Rutar</button>
    </p>
    <div id="mapa">
    </div>
</body>

</html>